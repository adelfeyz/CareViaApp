
int toBatteryLevel(int voltage, bool charging, bool wireless) {
  var data = 0;
  if (wireless) {
    data = toBatteryLevelForDischarge(voltage);
  } else {
    if (charging) {
      var cvoltage = voltage - 100;
      if (cvoltage >= 4130) {
        data = 100;
      } else {
        data = toBatteryLevelForDischarge(cvoltage);
      }
    } else {
      data = toBatteryLevelForDischarge(voltage);
    }
  }
  return data;
}

int toBatteryLevelForDischarge(int voltage) {
  var data = 0;
  if (voltage >= 4170) {
    data = 100;
  } else if (voltage >= 4125) {
    data = 99;
  } else if (voltage >= 4111) {
    data = 98;
  } else if (voltage >= 4099) {
    data = 97;
  } else if (voltage >= 4088) {
    data = 96;
  } else if (voltage >= 4078) {
    data = 95;
  } else if (voltage >= 4068) {
    data = 94;
  } else if (voltage >= 4058) {
    data = 93;
  } else if (voltage >= 4049) {
    data = 92;
  } else if (voltage >= 4039) {
    data = 91;
  } else if (voltage >= 4031) {
    data = 90;
  } else if (voltage >= 4022) {
    data = 89;
  } else if (voltage >= 4014) {
    data = 88;
  } else if (voltage >= 4007) {
    data = 87;
  } else if (voltage >= 3999) {
    data = 86;
  } else if (voltage >= 3990) {
    data = 85;
  } else if (voltage >= 3981) {
    data = 84;
  } else if (voltage >= 3970) {
    data = 83;
  } else if (voltage >= 3959) {
    data = 82;
  } else if (voltage >= 3947) {
    data = 81;
  } else if (voltage >= 3936) {
    data = 80;
  } else if (voltage >= 3925) {
    data = 79;
  } else if (voltage >= 3916) {
    data = 78;
  } else if (voltage >= 3908) {
    data = 77;
  } else if (voltage >= 3901) {
    data = 76;
  } else if (voltage >= 3894) {
    data = 75;
  } else if (voltage >= 3887) {
    data = 74;
  } else if (voltage >= 3882) {
    data = 73;
    } else if (voltage >= 3876) {
    data = 72;
  } else if (voltage >= 3870) {
    data = 71;
  } else if (voltage >= 3864) {
    data = 70;
  } else if (voltage >= 3857) {
    data = 69;
  } else if (voltage >= 3851) {
    data = 68;
  } else if (voltage >= 3844) {
    data = 67;
  } else if (voltage >= 3838) {
    data = 66;
  } else if (voltage >= 3833) {
    data = 65;
  } else if (voltage >= 3827) {
    data = 64;
  } else if (voltage >= 3821) {
    data = 63;
  } else if (voltage >= 3816) {
    data = 62;
  } else if (voltage >= 3810) {
    data = 61;
  } else if (voltage >= 3805) {
    data = 60;
  } else if (voltage >= 3799) {
    data = 59;
  } else if (voltage >= 3794) {
    data = 58;
  } else if (voltage >= 3789) {
    data = 57;
  } else if (voltage >= 3784) {
    data = 56;
  } else if (voltage >= 3780) {
    data = 55;
  } else if (voltage >= 3775) {
    data = 54;
  } else if (voltage >= 3770) {
    data = 53;
  } else if (voltage >= 3766) {
    data = 52;
  } else if (voltage >= 3761) {
    data = 51;
  } else if (voltage >= 3757) {
    data = 50;
  } else if (voltage >= 3753) {
    data = 49;
  } else if (voltage >= 3749) {
    data = 48;
  } else if (voltage >= 3744) {
    data = 47;
  } else if (voltage >= 3741) {
    data = 46;
  } else if (voltage >= 3737) {
    data = 45;
  } else if (voltage >= 3733) {
    data = 44;
  } else if (voltage >= 3729) {
    data = 43;
  } else if (voltage >= 3726) {
    data = 42;
  } else if (voltage >= 3722) {
    data = 41;
  } else if (voltage >= 3718) {
    data = 40;
    } else if (voltage >= 3715) {
    data = 39;
  } else if (voltage >= 3711) {
    data = 38;
  } else if (voltage >= 3708) {
    data = 37;
  } else if (voltage >= 3705) {
    data = 36;
  } else if (voltage >= 3702) {
    data = 35;
  } else if (voltage >= 3699) {
    data = 34;
  } else if (voltage >= 3696) {
    data = 33;
  } else if (voltage >= 3692) {
    data = 32;
  } else if (voltage >= 3689) {
    data = 31;
  } else if (voltage >= 3685) {
    data = 30;
  } else if (voltage >= 3682) {
    data = 29;
  } else if (voltage >= 3678) {
    data = 28;
  } else if (voltage >= 3674) {
    data = 27;
  } else if (voltage >= 3670) {
    data = 26;
  } else if (voltage >= 3666) {
    data = 25;
  } else if (voltage >= 3661) {
    data = 24;
  } else if (voltage >= 3656) {
    data = 23;
  } else if (voltage >= 3651) {
    data = 22;
  } else if (voltage >= 3646) {
    data = 21;
  } else if (voltage >= 3642) {
    data = 20;
  } else if (voltage >= 3637) {
    data = 19;
  } else if (voltage >= 3633) {
    data = 18;
  } else if (voltage >= 3628) {
    data = 17;
  } else if (voltage >= 3624) {
    data = 16;
  } else if (voltage >= 3618) {
    data = 15;
  } else if (voltage >= 3613) {
    data = 14;
  } else if (voltage >= 3606) {
    data = 13;
    } else if (voltage >= 3599) {
    data = 12;
  } else if (voltage >= 3591) {
    data = 11;
  } else if (voltage >= 3581) {
    data = 10;
  } else if (voltage >= 3569) {
    data = 9;
  } else if (voltage >= 3553) {
    data = 8;
  } else if (voltage >= 3535) {
    data = 7;
  } else if (voltage >= 3508) {
    data = 6;
  } else if (voltage >= 3474) {
    data = 5;
  } else if (voltage >= 3435) {
    data = 4;
  } else if (voltage >= 3379) {
    data = 3;
  } else if (voltage >= 3315) {
    data = 2;
  } else if (voltage >= 3210) {
    data = 1;
  } else {
    data = 0;
  }
  return data;
}